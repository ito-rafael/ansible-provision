- name: software | shell | install zsh
  tags: shell,zsh
  package:
    name: zsh

- name: software | shell | install zsh plugins
  tags: shell,zsh
  package:
    name:
      - zsh-autosuggestions
      - zsh-syntax-highlighting

- name: software | shell | install zsh plugins from AUR
  tags: shell,zsh
  become_user: aurman
  aur:
    name:
      - zsh-vi-mode

- name: software | shell | change default shell to zsh
  tags: shell,zsh
  become: yes
  user:
    name: rafael
    shell: /usr/bin/zsh

- name: software | shell | ensure zsh dir exist
  file:
    path: /home/rafael/.config/zsh
    state: directory
    owner: rafael
    group: rafael
    mode: 0700

- name: software | shell | install Oh My Zsh
  tags: shell,zsh,oh-my-zsh
  shell: ZSH='/home/rafael/.config/oh-my-zsh' sh -c "$(curl -fsSL https://raw.github.com/ohmyzsh/ohmyzsh/master/tools/install.sh)"
  args:
    creates: /home/rafael/.config/oh-my-zsh/.git

- name: software | shell | copy zsh dotfiles (zshrc)
  tags: shell,zsh
  copy:
    src: /home/rafael/git/dotfiles/zsh/zshrc
    dest: /home/rafael/.config/zsh/.zshrc
    remote_src: true
    owner: root
    group: root
    mode: 0600

- name: software | shell | copy zsh dotfiles (zshenv)
  tags: shell,zsh
  copy:
    src: /home/rafael/git/dotfiles/zsh/zshenv
    dest: /home/rafael/.config/zsh/.zshenv
    remote_src: true
    owner: root
    group: root
    mode: 0600
