- name: software | window-manager | sway
  tags: wayland,sway
  package:
    name:
      - seatd                 # prerequisite of sway
      - sway                  # window manager / compositor
      - ruby                  # prerequisite for i3bang (config preprocessor)
      - sway-contrib          # community scripts for sway

- name: software | window-manager | add user to seat group
  tags: wayland,sway,users,rafael
  user:
    name: rafael
    groups: seat
    append: yes

- name: software | window-manager | start seatd daemon
  tags: wayland,sway
  systemd:
    name: seatd
    enabled: yes
    state: started

- name: software | window-manager | ensure sway dir exist
  tags: wayland,sway
  file:
    path: /home/rafael/.config/sway
    state: directory
    owner: rafael
    group: rafael
    mode: 0700

- name: software | window-manager | copy Sway dotfile
  tags: wayland,sway
  copy:
    src: /home/rafael/git/dotfiles/i3-sway/config
    dest: /home/rafael/.config/sway/config
    remote_src: true
    owner: rafael
    group: rafael
    mode: 0600

- name: software | window-manager | install general packages
  tags: wayland,sway
  package:
    name:
      - wl-clipboard          # clipboard utils

- name: software | window-manager | install general packages from AUR
  tags: wayland,sway
  become_user: aurman
  kewlfft.aur.aur:
    name: autotiling          # script to switch h/v window orientation
